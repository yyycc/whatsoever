---
title: "è§£è¯» Pure CSS Connect 4"
date: "2022-11-07"
slug: "pure-css-connect-4"
tag: "css"
folder: "Front End"
---

import { Table } from 'antd'
export const dataSource = [{key:1,name1:'1',name2:'i'},{key:2,name1:'2',name2:'ii'},{key:3,name1:'3',name2:'iii'},{key:4,name1:'4',name2:'iv'},{key:5,name1:'5',name2:'v'}]
export const columns = [{title:'å°å†™ç½—é©¬æ•°å­—',dataIndex:'name1'},{title:'é˜¿æ‹‰ä¼¯æ•°å­—',dataIndex:'name2'}]
export const pagination = false

## Before

å…ˆæ¥æ²‰æµ¸å¼ä½“éªŒä¸€ä¸‹å°æ¸¸æˆ<a target="_blank" href="https://codepen.io/finnhvman/pen/xXpzVN">Pure CSS Connect 4</a>

å½“æˆ‘çŸ¥é“è¿™æ˜¯ä»…html+csså®ç°æ—¶ï¼Œæˆ‘æ˜¯ä¸ä¿¡çš„ï¼Œä¸‹é¢æ˜¯æˆ‘ä»ä¸ä¿¡åˆ°ç›¸ä¿¡çš„å…¨è¿‡ç¨‹ã€‚

## 1. type="reset"

å…ˆä»ç®€å•çš„æ¥ï¼Œå¦‚ä½•åšåˆ°ç‚¹å‡» <button className="reset-button" type="reset">New Game</button> æ¥é‡ç½®æ¸¸æˆçš„å‘¢ çœ‹ä¸€ä¸‹htmléƒ¨åˆ†çš„ä»£ç 

``` html
<form>
  <div class="board">...</div>
  <button type="reset">New Game</button>
</form>
```

type="reset"çš„æ ‡ç­¾åœ¨formä¸­æ—¶ï¼Œå¯ä»¥æ¸…é™¤è¡¨å•å†…å®¹
> The \<input type="reset"> defines a reset button which resets all form values to its initial values

## 2. type="radio"

ä¸Šé¢è¯´é‡ç½®æ¸¸æˆæ˜¯é€šè¿‡æ¸…é™¤è¡¨å•å†…å®¹å®ç°çš„ï¼Œé‚£ä¹ˆæ•´å±€æ¸¸æˆå…¶å®å°±æ˜¯åœ¨å¡«å†™è¡¨å•ä¹ˆï¼Ÿ  
ç­”æ¡ˆæ˜¯ï¼šæ˜¯çš„ï¼Œæ¯ä¸ªç‚¹å‡»åŠ¨ä½œå…¶å®éƒ½æ˜¯ç‚¹å‡»äº†ä¸€ä¸ªtype="radio"çš„inputï¼Œå°†å®ƒçš„çŠ¶æ€å˜ä¸ºcheckedã€‚

``` html
<input type="radio" name="slotX" tabindex="-1" required>
```

çºµè§‚æ•´ä¸ªhtmlä»£ç ï¼Œä¼šå‘ç°ä¸Šé¢è¿™å¥è¯å äº†9æˆï¼Œä¸€å…±84ä¸ªinputæ¡†æˆå°±äº†è¿™ä¸ªæ¸¸æˆã€‚  
ä½†æ˜¯åœ¨ç•Œé¢ä¸Šä¸€ä¸ªä¹Ÿçœ‹ä¸åˆ°ï¼Œå› ä¸ºéƒ½è¢«è®¾ç½®æˆäº†é€æ˜çš„ã€‚

``` css
/* Invisible inputs */
input {
  display: none;
  position: absolute;
  top: -90px;
  margin: 0;
  width: 60px;
  height: 450px;
  cursor: pointer;
  opacity: 0;	/* é€æ˜*/
}
```

çœ‹åˆ°è¿™æ®µæ ·å¼ä½ å¯èƒ½ä¼šç–‘æƒ‘ï¼Œè¿™ä¸ä»…è®¾ç½®æˆé€æ˜ï¼Œè¿displayéƒ½æ˜¯noneï¼Œæ ¹æœ¬å°±ä¸å­˜åœ¨äºç•Œé¢ä¸Šï¼Œåˆæ€ä¹ˆç‚¹å‡»å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹ç´§éšå…¶åçš„ä¸€æ®µæ ·å¼

``` css
input:indeterminate {
  display: initial;
}
```

é¦–å…ˆdisplay: initialæ˜¯è®©å…ƒç´ æ¢å¤åˆ°æµè§ˆå™¨æœ€åˆå§‹æ—¶çš„displayå±æ€§ï¼Œinputé»˜è®¤displayæ˜¯inline-blockï¼Œä½†æ˜¯æˆ‘ä»¬è®¾ç½®äº†position: absoluteï¼Œæ‰€ä»¥displayæ˜¯blockã€‚  
ç„¶åæ˜¯:indeterminate
> é€‰æ‹©å¤„äºä¸ç¡®å®šçŠ¶æ€çš„ input å…ƒç´ ã€‚

å¯¹äºå•é€‰æ¡†ï¼Œå½“ä½ æ²¡æœ‰é€‰ä¸­ä¹Ÿæ²¡æœ‰ä¸é€‰ä¸­æ—¶ï¼Œä»–å°±å¤„äºindeterminateçŠ¶æ€ã€‚  
æ‰€ä»¥åˆå§‹æ—¶ï¼Œæ‰€æœ‰inputéƒ½æ˜¯indeterminateçŠ¶æ€ï¼Œdisplayå€¼éƒ½æ˜¯blockã€‚  
å½“ç‚¹å‡»æŸä¸ªinputåï¼Œä»–çš„çŠ¶æ€å˜ä¸ºcheckedï¼Œdisplayå€¼ä¸ºnoneã€‚  
ç°åœ¨è¿™84ä¸ªinputæ˜¯ä¸æ˜¯å¾ˆå¥½ç†è§£äº†ï¼Œç•Œé¢ä¸Šä¸€å…±42ä¸ªç©ºä½ï¼Œæ¯ä¸ªç©ºä½éƒ½æœ‰å¯èƒ½å¡«å……çº¢æˆ–è€…é»„ï¼Œæ‰€ä»¥ä¸€å…±æœ‰42*2 = 84 ä¸ªinputæ¡†ä¾›ç‚¹å‡»ã€‚  
è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼ŒåŒä¸€ä¸ªç©ºä½å¡«å……äº†çº¢å°±ä¸èƒ½å†å¡«å……é»„æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ  
å…ˆçœ‹ä»£ç ï¼Œä¸‹é¢æ˜¯ç¬¬ä¸€åˆ—çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°ä¸€å…±6å¯¹ï¼Œæ¯å¯¹çš„nameç›¸åŒï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ç›¸åŒnameçš„radioåªèƒ½å‹¾é€‰ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€æ—¦å‹¾é€‰äº†ä¸€ä¸ªï¼Œé‚£ä¹ˆå’Œå®ƒnameç›¸åŒçš„inputçš„çŠ¶æ€ä¹Ÿå°±ç¡®å®šäº†ï¼Œdisplayå€¼å˜ä¸ºnoneã€‚  
<input name="slot3" type="radio" />  name="one"(é€‰æˆ‘ï¼Œåˆ«é€‰æˆ‘å¼Ÿ)  
<input name="slot3" type="radio" />  name="one"(é€‰æˆ‘ï¼Œåˆ«é€‰æˆ‘å“¥)  
<input name="slot4" type="radio" />  name="another"(æˆ‘è·Ÿä¸Šé¢ä¿©å“¥å„¿ä»¬æ²¡å•¥å­å…³ç³»)

``` html
<div class="grid column">
  <input type="radio" name="slot11" tabindex="-1" required>
  <input type="radio" name="slot11" tabindex="-1" required>
  <div class="disc"></div>
  <input type="radio" name="slot12" tabindex="-1" required>
  <input type="radio" name="slot12" tabindex="-1" required>
  <div class="disc"></div>
  <input type="radio" name="slot13" tabindex="-1" required>
  <input type="radio" name="slot13" tabindex="-1" required>
  <div class="disc"></div>
  <input type="radio" name="slot14" tabindex="-1" required>
  <input type="radio" name="slot14" tabindex="-1" required>
  <div class="disc"></div>
  <input type="radio" name="slot15" tabindex="-1" required>
  <input type="radio" name="slot15" tabindex="-1" required>
  <div class="disc"></div>
  <input type="radio" name="slot16" tabindex="-1" required>
  // åé¢çš„å…ƒç´ æ˜¾ç¤ºåœ¨ä¸Šé¢ï¼Œæ‰€ä»¥ä¸‹é¢è¿™ä¸ªinputè¿™æ˜¯è¿™æ˜¯ç¬¬ä¸€åˆ—ç¬¬ä¸€ä¸ªå¯ä»¥ç‚¹å‡»åˆ°çš„input
  <input type="radio" name="slot16" tabindex="-1" required>
  <div class="disc"></div>
  ...
</div>
```

å¤§å®¶å¯ä»¥è¯•éªŒä¸€ä¸‹ï¼Œå½“ä½ åœ¨ç¬¬ä¸€åˆ—ä¸‹äº†ç¬¬ä¸€ä¸ªå­ï¼Œè¿™æ—¶name="slot16"çš„ä¸¤ä¸ªinputæ¡†éƒ½æ˜¯display:noneçš„çŠ¶æ€

## 3. counter

contentå¯ä»¥å®ç°è®¡æ•°å™¨æ•ˆæœï¼Œè¿™éƒ¨åˆ†å†…å®¹åœ¨ã€ŠCSSçš„ä¸–ç•Œã€‹ä¸€ä¹¦ä¸­ä¹Ÿæœ‰è¯¦ç»†çš„å™è¿°ï¼Œè‡³äºæˆ‘ä¸ºä»€ä¹ˆæ²¡æœ‰åœ¨æˆ‘çš„<a target="_blank" href="https://www.whyyy.net/blog/css">cssè¯»åæ„Ÿç³»åˆ—</a>ä¸­å†™ï¼Œä¹Ÿæ˜¯æœ‰ç§ç§åŸå› ã€‚

![contentè®¡æ•°å™¨](./pure-css-connect-4/counter.png)

éƒ½æ˜¯å€ºå•Šï¼Œè¿™ä¸å°±å¾—è¿˜äº†ä¹ˆã€‚ã€‚ã€‚ 

<Table dataSource={dataSource} columns={columns} pagination={pagination} />

- counter-resetï¼š é‡ç½®è®¡æ•°å™¨ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼šname(å¿…é€‰ï¼Œè®¡æ•°å™¨åç§°)ï¼Œstart(å¯é€‰ï¼Œè®¡æ•°å™¨åˆå§‹å€¼ï¼Œé»˜è®¤ä¸º0)
- counter-incrementï¼š è®¡æ•°å™¨é€’å¢ï¼Œå‚æ•°ä¸ºcounter-resetçš„name(å¯ä»¥æ˜¯å¤šä¸ª)ï¼Œåé¢è·Ÿæ•°å­—ï¼Œè¡¨ç¤ºæ¯æ¬¡é€’å¢çš„æ•°é‡
- counteræ–¹æ³•ï¼šæ˜¾ç¤ºè®¡æ•°ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼šname(å¿…é€‰ï¼Œè®¡æ•°å™¨åç§°)ï¼Œstyle(å¯é€‰ï¼Œlist-style-typeæ”¯æŒçš„å€¼ï¼Œå¯ä»¥å±•ç¤ºè‹±æ–‡å­—æ¯ã€ç½—é©¬æ•°å­—ç­‰)ï¼Œè¿™é‡Œå°±æ˜¯ä½¿ç”¨äº†lower-romanï¼Œå±•ç¤ºå°å†™ç½—é©¬æ•°å­—

è®¡æ•°å™¨çš„è§„åˆ™å°±æ˜¯æ¯å½“counter-incrementç”Ÿæ•ˆä¸€æ¬¡ï¼Œå…¨å±€çš„è®¡æ•°å™¨å°±é€’å¢(å‡)ä¸€æ¬¡(æœ¬æ–‡åº”ç”¨åˆ°çš„æ¯”è¾ƒç®€å•ï¼Œè®¡æ•°å™¨çš„è§„åˆ™è¿˜æœ‰ä¸€äº›æ¯”è¾ƒå¤æ‚çš„å†…å®¹ï¼Œäº‰å–åé¢å†™ç¯‡æ–‡ç« ä»‹ç»ä¸€ä¸‹å§ï¼Œflagç«‹åœ¨è¿™é‡Œ\<----)

``` css
.grid {
  display: inline-flex;
  flex-flow: column wrap;
  position: relative;
  min-width: 420px;
  height: 360px;
  counter-reset: player 1; /* å®šä¹‰è®¡æ•°å™¨playerï¼Œåˆå§‹å€¼ä¸º1 - i*/
}

/* Tracking turns */
input:checked + .disc {
  counter-increment: player 2; /* è®¡æ•°å™¨player + 2 - iii*/
}
input:checked + input + .disc {
  counter-increment: player -2; /* è®¡æ•°å™¨player - 2 - i*/
}

.grid::after {
  content: counter(player, lower-roman); /* å±•ç¤ºè®¡æ•°å™¨playerçš„å€¼ï¼Œå±•ç¤ºå°å†™ç½—é©¬å­—æ¯*/
  display: inline-block;
  max-width: 840px;
  min-width: 420px;
  letter-spacing: 375px; // å­—æ¯é—´è·
  font-family: monospace;
  font-size: 1px;
  overflow: hidden;
}
```

é¦–å…ˆ.gridä¸­å®šä¹‰äº†è®¡æ•°å™¨playerï¼Œåˆå§‹å€¼æ˜¯1ï¼Œæ‰€ä»¥æ­¤æ—¶.grid::afterçš„contentæ˜¯iï¼Œè®¾ç½®äº†min-width: 420pxï¼Œå®½åº¦ä¸º420ã€‚  
å½“æˆ‘ä¸‹äº†ç¬¬ä¸€é¢—å­ï¼Œå‡ºç°äº†input:checked + .discï¼Œå®ƒçš„counter-incrementç”Ÿæ•ˆï¼Œè®¡æ•°å™¨+2ï¼Œæ‰€ä»¥æ­¤æ—¶grid::afterçš„contentæ˜¯iiiï¼Œè®¾ç½®äº† letter-spacing:
375pxï¼Œmax-width: 840pxï¼Œå®½åº¦ä¸º840ã€‚  
é‚£ä¹ˆæ”¹å˜å®½åº¦çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ  
æ¥çœ‹ä»£ç   
htmléƒ¨åˆ†

``` html
<div class="field">
  <div class="grid column">
    <input type="radio" name="slot11" tabindex="-1" required>
    <input type="radio" name="slot11" tabindex="-1" required>
    <div class="disc"></div>
    <div class="column">
      <input type="radio" name="slot21" tabindex="-1" required>
      <input type="radio" name="slot21" tabindex="-1" required>
      <div class="disc"></div>
        ...
```

csséƒ¨åˆ†

``` css
.field {
    position: absolute;
    width: 420px;
    overflow: hidden;
    cursor: not-allowed;
    ...
}
.grid {
  position: relative;
  ...
}
input {
  position: absolute;
  ...
}
/* Inputs for red */
.column > input:nth-of-type(2n) {
  right: 360px;
}
.column > .column > input:nth-of-type(2n) {
  right: 300px;
}
...
.column > .column > .column > .column > .column > .column > input:nth-of-type(2n) {
  right: 60px;
}
.column > .column > .column > .column > .column > .column > .column > input:nth-of-type(2n) {
  right: 0;
}
/* Inputs for yellow */
.column > input:nth-of-type(2n+1) {
  left: 0;
}
.column > .column > input:nth-of-type(2n+1) {
  left: 60px;
}
...
.column > .column > .column > .column > .column > .column > input:nth-of-type(2n+1) {
  left: 300px;
}
.column > .column > .column > .column > .column > .column > .column > input:nth-of-type(2n+1) {
  left: 360px;
}
```

è¿™è¾¹å…ˆä»‹ç»ä¸€ä¸‹nth-of-type(N)ï¼ŒåŒ¹é…çˆ¶å…ƒç´ ä¸‹ä½¿ç”¨åŒç§æ ‡ç­¾çš„ç¬¬N(N >= 1)ä¸ªå­å…ƒç´ ã€‚  
æ¯”å¦‚.class:nth-of-type(1)ï¼Œ.classæ‰€åœ¨æ ‡ç­¾ä¸ºdivï¼Œé‚£ä¹ˆå°±ä¼šæ‰¾.classçˆ¶äº²ä¸‹çš„ç¬¬1ä¸ªdivã€‚

å¯ä»¥çœ‹åˆ°ï¼Œå¥‡æ•°ä½çš„inputæ˜¯ç›¸å¯¹äºå·¦ä¾§å®šä½çš„ï¼Œä¸ƒåˆ—ä¾æ¬¡æ’åˆ—ï¼Œè€Œå¶æ•°ä½inputæ˜¯ç›¸å¯¹äºgridå³ä¾§å®šä½çš„ï¼Œå½“gridå®½åº¦ä¸º420ï¼Œå¶æ•°ä½inputä¸å¥‡æ•°ä½çš„inputé‡å ï¼Œè€Œå¶æ•°ä½inputåœ¨å¥‡æ•°ä½çš„inputåé¢ï¼Œæ‰€ä»¥å½“ä»–ä»¬é‡åˆæ—¶ï¼Œç‚¹å‡»åˆ°çš„è‚¯å®šæ˜¯å¶æ•°ä½inputï¼›å½“ç‚¹å‡»ä¸€æ¬¡åï¼Œgridå®½åº¦å˜ä¸º840ï¼Œå¶æ•°ä½inputæ•´ä½“å³ç§»420pxï¼ŒæŒªå‡ºäº†è“æ¡†èŒƒå›´ï¼Œæ­¤æ—¶ç‚¹å‡»åˆ°çš„éƒ½æ˜¯å¥‡æ•°ä½çš„inputã€‚  
å¤–éƒ¨çš„\<div class="field">\</div>è®¾ç½®äº†overflow: hidden;ï¼Œæ‰€ä»¥è“æ¡†å³è¾¹çš„inputæ— æ³•ç‚¹å‡»ã€‚

è‡³æ­¤ï¼ŒConnect 4å¸¦æœ‰é­”å¹»ä¸»ä¹‰è‰²å½©çš„å†…å®¹åŸºæœ¬ç»“æŸäº†ï¼Œç›¸ä¿¡çœ‹åˆ°è¿™å„¿çš„å°ä¼™ä¼´ä¹Ÿèƒ½å†™å‡ºConnect 4ï¼ŒConnect 8ï¼ŒConnect 16ä¹Ÿä¸åœ¨è¯ä¸‹ã€‚ æœ€åå†æ¥è®²è®²csséƒ¨åˆ†

## 4. css
### 4.1. hoveræ—¶å±•ç¤ºæ£‹å­
æ£‹ç›˜ä¸Šæ‰€æœ‰çš„çº¢å­å’Œé»„å­éƒ½æ˜¯é€šè¿‡ä¸Šé¢è¿™ä¸ªdivæ¥æ˜¾ç¤ºçš„
``` html
<div class="disc"></div>
```
hoveræ—¶çš„æ ·å¼
``` css
/* Red's turn */
input:hover + .disc {
  color: #ff010b;
  opacity: 1;
  transition: opacity 0.2s, top 0s;
}
/* Yellow's turn */
input:hover + input + .disc {
  color: #ffd918;
  opacity: 1;
  transition: opacity 0.2s, top 0s;
}
```
ä»…ä»…è¿™æ ·ï¼Œæ£‹å­åº”è¯¥åœ¨å¯¹åº”çš„æ ¼å­ä¸­ï¼Œé‚£ä¹ˆå¦‚ä½•å±•ç¤ºåœ¨æ£‹ç›˜ä¸Šæ–¹å‘¢ï¼Ÿ  
é¦–å…ˆæ£‹ç›˜ä¸Šæ–¹æ˜¯ç•™æœ‰ç©ºéš™å¯ä»¥æ˜¾ç¤ºæ£‹å­çš„ã€‚  
``` css
.field {
    position: absolute;
    padding: 75px 0 0 0; // ä¸Šæ–¹æœ‰75pxç©ºéš™
    width: 420px;
    height: 435px;
    overflow: hidden;
    cursor: not-allowed;
}
```
å…¶æ¬¡hoveræ—¶è®¾ç½®äº†æ¯ä¸ªä½ç½®å¯¹åº”çš„topå€¼ã€‚
``` css
/* Height and time of disc fall per row */
input:hover + .disc:nth-of-type(1),
input:hover + input + .disc:nth-of-type(1){
  top: -75px;
}
...
input:hover + .disc:nth-of-type(6n),
input:hover + input + .disc:nth-of-type(6n) {
  top: -375px;
}
```
### 4.2 æ£‹å­ä¸‹è½çš„åŠ¨ç”»
åº”è¯¥éƒ½çœ‹å¾—å‡ºæ¥æ˜¯é€šè¿‡transitionæ¥å®ç°çš„ï¼Œè¿™è¾¹æˆ‘åšäº†ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ï¼Œå¯ä»¥å›´è§‚ä¸€ä¸‹ ----> <a target="_blank" href="https://www.whyyy.net/blog/css-example/#1-%E4%B8%8B%E8%90%BD%E7%9A%84%E5%8A%A8%E7%94%BB">åŠ¨ç”»ç¤ºä¾‹</a>  
hoveræ—¶æ£‹å­åœ¨æ£‹ç›˜ä¸Šæ–¹ï¼Œé‚£ä¹ˆç‚¹å‡»ä¹‹åï¼ŒçŠ¶æ€å˜ä¸ºcheckedï¼Œhoveræ—¶çš„è´Ÿtopä¹Ÿå°±ä¸å¤å­˜åœ¨äº†ï¼Œä»è´Ÿtopåˆ°åˆå§‹ä½ç½®topçš„å˜åŒ–ï¼Œé€šè¿‡transitionæ¥å®ç°åŠ¨ç”»æ•ˆæœã€‚  
cubic-bezier: è´å¡å°”æ›²çº¿ï¼Œæ˜¯æ§åˆ¶å˜åŒ–çš„é€Ÿåº¦æ›²çº¿ï¼Œcubic-bezier(0.56, 0, 1, 1)è¿‘ä¼¼äºäºŒæ¬¡å‡½æ•°åœ¨ç¬¬ä¸€è±¡é™çš„æ›²çº¿ï¼Œè¿‘ä¼¼äºease-inã€‚  
``` css
/* Height and time of disc fall per row */
input:checked + .disc:nth-of-type(1),
input:checked + input + .disc:nth-of-type(1){
  transition: top 0.14s cubic-bezier(0.56, 0, 1, 1);
}
input:checked + .disc:nth-of-type(2),
input:checked + input + .disc:nth-of-type(2){
  transition: top 0.19s cubic-bezier(0.56, 0, 1, 1);
}
input:checked + .disc:nth-of-type(3),
input:checked + input + .disc:nth-of-type(3) {
  transition: top 0.23s cubic-bezier(0.56, 0, 1, 1);
}
input:checked + .disc:nth-of-type(4),
input:checked + input + .disc:nth-of-type(4) {
  transition: top 0.26s cubic-bezier(0.56, 0, 1, 1);
}
input:checked + .disc:nth-of-type(5),
input:checked + input + .disc:nth-of-type(5){
  transition: top 0.29s cubic-bezier(0.56, 0, 1, 1);
}
input:checked + .disc:nth-of-type(6n),
input:checked + input + .disc:nth-of-type(6n) {
  transition: top 0.32s cubic-bezier(0.56, 0, 1, 1);
}
```
### 4.3 background
è¯»åˆ°è¿™é‡Œï¼Œä¸¤ç§é¢œè‰²çš„æ£‹å­æ˜¯å¦‚ä½•äº¤æ›¿å±•ç¤ºçš„ï¼Œæƒ³å¿…å¤§å®¶éƒ½å¾ˆæ¸…æ¥šäº†å§ï¼Œæˆ‘å†å•°å—¦ç‚¹ç¯‡å¹…ã€‚  
æ¯ä¸€å¯¹inputï¼Œç¬¬ä¸€ä¸ªæ˜¯çº¢ï¼Œç¬¬äºŒä¸ªæ˜¯é»„ã€‚  
``` css
input:checked + .disc {
  color: #ff010b;
  opacity: 1;
}
input:checked + input + .disc {
  color: #ffd918;
  opacity: 1;
}
```
è¿™è¾¹æƒ³å¿…å¤§å®¶ä¼šæœ‰ä¸ªç–‘é—®ï¼Œä¸ºå•¥è®¾ç½®colorï¼Œæ£‹å­å°±å˜è‰²äº†å‘¢ï¼Œæ­£å¸¸ä¸æ˜¯åº”è¯¥æ˜¯è®¾ç½®background-colorä¹ˆï¼Ÿæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹discçš„åˆå§‹æ ·å¼ï¼Œè¿™é‡Œé¢æœ‰ä¸ªcss3çš„å…³é”®å­—currentcolorï¼Œå®ƒçš„å€¼å°±æ˜¯å½“å‰æ ‡ç­¾colorçš„å€¼ã€‚è¿™å„¿è¿˜æœ‰ä¸€ä¸ªå¼•äººæ³¨ç›®çš„æ–¹æ³•radial-gradientï¼Œè¿™é‡Œæµ…æä¸€ä¸‹ã€‚  
- radial-gradientï¼šå¾„å‘æ¸å˜å‡½æ•°ï¼Œå¾„å‘æ¸å˜æŒ‡ä»ä¸€ä¸ªç‚¹å‘å››å‘¨çš„é¢œè‰²æ¸å˜
- background-image: radial-gradient(shape size at position, start-color, ..., last-color);

æœ€åçš„center/60pxï¼Œåˆ†åˆ«å¯¹åº”äº†positionå’Œsizeä¸¤ä¸ªå±æ€§ï¼Œä¹Ÿå°±æ˜¯  
background-position: center;  
background-size: 60px;
``` css
.disc {
    position: relative;
    top: 0;
    width: 60px;
    height: 60px;
    color: #fff;
    background: radial-gradient(circle, currentcolor 12px, #666 13px, currentcolor 14px, currentcolor 21px, #666 22px, transparent 23px, transparent) center/60px;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s, top 0s 0.2s, color 0s 0.2s;
}
```

### 4.4 åˆ¤æ–­èƒœè´Ÿ
å“‡ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡ç‚¹è¯¶ï¼Œå¦‚ä½•åˆ¤æ–­èƒœ(å¤§å®¶åº”è¯¥çŸ¥é“è·èƒœè§„åˆ™å§ï¼Œå°±æ˜¯æ¨ªã€ç«–æˆ–è€…æ–œè¿æˆ4ä¸ª)è´Ÿæˆ–è€…å¹³å±€å‘¢ã€‚
é¦–å…ˆå±•ç¤ºèƒœè´Ÿå¹³æ¶ˆæ¯çš„divæ˜¯è¿™ç¬¬å…«ä¸ª.column
``` html
<!--Column 7 after-->
<div class="column"></div>
<style>
  .column::after {
    animation: outcome 1.5s;
    ...
  }
</style>
```
æˆ‘ä»¬å°±çœ‹çº¢æ–¹èƒœå‡ºä»¥åŠå¹³å±€çš„æƒ…å†µå§ã€‚  
é¦–å…ˆç«–åˆ—è¿æˆ4ä¸ªæ˜¯æœ€å¥½åˆ¤æ–­çš„(next to inputçš„ï¼Œæ˜¯.discæ˜¯çº¢å­ï¼Œæ˜¯inputçš„æ˜¯é»„å­)ã€‚
``` css
input:checked + .disc + input + input:checked + .disc + input + input:checked + .disc + input + input:checked ~ .column::after {
	content: "Red wins! :)";
}
```
æ¥ç€æ˜¯æ¨ªæ’è¿æˆ4ä¸ªï¼Œè·Ÿç«–åˆ—ä¸åŒï¼Œæ¯ä¸€æ’èƒœå‡ºçš„æ¡ä»¶éƒ½ä¸åŒï¼Œå†™ä¸ªç¬¬ä¸‰æ’(ä»ä¸Šå¾€ä¸‹æ•°)çš„å§ã€‚
``` css
input:nth-of-type(6):checked ~ .column > input:nth-of-type(6):checked ~ .column > input:nth-of-type(6):checked ~ .column > input:nth-of-type(6):checked ~ .column::after {
	content: "Red wins! :)";
}
```
æœ€åæ˜¯æ–œç€è¿æˆ4ä¸ªï¼Œè¿™å°±æœ‰45åº¦å’Œ-45åº¦ä¸¤ç§æƒ…å†µï¼Œç„¶åæœ€ä¸Šé¢çš„å­å¯èƒ½åœ¨ç¬¬ä¸€ã€äºŒã€ä¸‰è¡Œï¼Œæ‰€ä»¥ä¸€å…±å…­ç§æƒ…å†µï¼Œä¸‹é¢æˆ‘åˆ—äº†æœ€ä¸Šé¢çš„å­åœ¨ç¬¬ä¸€è¡Œæ—¶çš„é€‰æ‹©å™¨ï¼Œå¤§å®¶å¯ä»¥åœ¨èƒœå‡ºååœ¨æ§åˆ¶å°çœ‹è‡ªå·±çš„èƒœå‡ºæ–¹å¼åˆ°åº•æ˜¯åº”ç”¨äº†å“ªç§é€‰æ‹©å™¨ã€‚
``` css
input:nth-of-type(2):checked~ .column > input:nth-of-type(4):checked ~ .column > input:nth-of-type(6):checked ~ .column > input:nth-of-type(8):checked ~ .column::after {
	content: "Red wins! :)";
}
```
æœ€åçš„æœ€åæ˜¯å¹³å±€ï¼Œå¹³å±€ä¹Ÿå°±æ˜¯æ£‹å­å¡«æ»¡æ—¶æ²¡æœ‰èƒœå‡ºæ–¹ï¼Œæ­¤æ—¶æ‰€æœ‰çš„inputçš„çŠ¶æ€éƒ½æ˜¯ç¡®å®šçš„ï¼Œå¤§å®¶å›å¿†ä¸€ä¸‹æˆ‘ä»¬inputæ¡†ï¼Œæ˜¯å¦è®°å¾—æ¯ä¸ªinputéƒ½æœ‰requiredå±æ€§ï¼Œä¹Ÿå°±æ˜¯éƒ½æ˜¯å¿…å¡«çš„ï¼Œå½“æ‰€æœ‰inputéƒ½å¡«å®Œåï¼Œè¡¨å•æ ¡éªŒé€šè¿‡ï¼Œæ­¤æ—¶çš„è¡¨å•å¯ä»¥é€šè¿‡:validé€‰æ‹©å™¨é€‰åˆ°(ç¬¬ä¸€æ¬¡çŸ¥é“è¿˜æœ‰è¿™ä¹ˆä¸ªé€‰æ‹©å™¨...)ã€‚
``` css
form:valid .column > .column > .column > .column > .column > .column > .column > .column::after {
  	content: "It's a draw!";
}
```

### 4.5 flex-flow: column nowrap
æœ€åå†æ¥è®²è®²æ£‹ç›˜æ˜¯å¦‚ä½•ç”»å‡ºæ¥çš„å§ï¼Œå…ˆè¯´è¯´è¿™ä¸ªflex-flow: column nowrapï¼Œå³  
flex-direction:  column;  
flex-wrap: nowrap;  
è¡¨ç¤ºä¸»è½´å‚ç›´ï¼Œæ¢è¡Œã€‚æ‰€ä»¥æ‰€æœ‰çš„discæ˜¯ä»ä¸Šå¾€ä¸‹æ’åˆ—ï¼Œé«˜åº¦æ’æ»¡ä¹‹åå‘å³æ¢è¡Œç»§ç»­ä»ä¸Šå¾€ä¸‹æ’åˆ—ï¼Œå¯ä»¥æˆ³è¿™é‡Œçœ‹çœ‹å„ç§å±æ€§å€¼ä¸‹çš„æ’åˆ—<a target="_blank" href="https://www.whyyy.net/blog/css-example/#2-flex-flow">flex-flow</a>
``` css
.column {
  display: inline-flex;
  flex-flow: column wrap;
  height: 360px;
}
```

## 5. æ€»ç»“
åˆ°è¿™é‡Œï¼Œç»ˆäºçœŸçš„ç»“æŸå•¦ï¼Œå±…ç„¶è¿˜æœ‰ä¸€ç‚¹æ„çŠ¹æœªå°½ä¹‹æ„ŸğŸ¤·  
ä»ç¬¬ä¸€æ¬¡çœ‹ä»£ç çš„æ‰‹è¶³æ— æªå¤´çš®å‘éº»ï¼Œåˆ°æŠ½ä¸å‰¥èŒ§å±‚å±‚è§£æï¼Œå“ï½å­¦ä¹ ä½¿äººå¿«ä¹ä¸«ã€‚

## Reference

[1. CSSä¸­å…³äºbackgroundå±æ€§çš„å…·ä½“åˆ†æ](https://www.gxlcms.com/css-258730.html)  
[2. currentColor-CSS3è¶…é«˜æ ¡çº§å¥½ç”¨CSSå˜é‡](https://www.zhangxinxu.com/wordpress/2014/10/currentcolor-css3-powerful-css-keyword/)  
[3. CSS counterè®¡æ•°å™¨(contentç›®å½•åºå·è‡ªåŠ¨é€’å¢)è¯¦è§£](https://www.zhangxinxu.com/wordpress/2014/08/css-counters-automatic-number-content/)  
[4. CSS ä¹‹é€‰æ‹©å™¨ï¼ˆä¹ï¼‰:valid å’Œ:invalid](https://xie.infoq.cn/article/4678ac753cd4e3b20f6a260fd)  
[5. å®ç”¨çš„ CSS â€” è´å¡å°”æ›²çº¿(cubic-bezier)](http://joveyzheng.com/2016/03/16/css-cubic-bezier/)  
[6. æˆ‘çš„ Inputæ¡† ä¸å¯èƒ½è¿™ä¹ˆå¯çˆ±](https://blog.csdn.net/weixin_37615279/article/details/100516311)  